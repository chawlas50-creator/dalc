<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>9-Haptic Grid</title>
    <style>
        body {
            background-color: #121212; /* Dark Mode for better focus */
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        h1 { font-size: 20px; color: #888; font-weight: 500; margin-bottom: 20px; }

        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            width: 90%;
            max-width: 360px;
        }

        button {
            aspect-ratio: 1;
            border: none;
            border-radius: 18px;
            font-size: 14px;
            font-weight: 600;
            color: white;
            background: #2c2c2e;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            transition: transform 0.05s, background-color 0.1s;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        button:active {
            transform: scale(0.92);
            filter: brightness(1.2);
        }

        .icon { font-size: 24px; margin-bottom: 5px; }
        .sub { font-size: 10px; opacity: 0.6; font-weight: 400; }

        /* Colors for grouping */
        .group-impact { background-color: #3a3a3c; }
        .group-notification { background-color: #32324a; color: #a9a9ff; }
        .group-special { background-color: #3a2a2a; color: #ff9f80; }

    </style>
</head>
<body>

    <h1>Phantom Haptic Library</h1>

    <div class="grid">
        <button class="group-impact" onclick="play('light')">
            <span class="icon">‚ö™Ô∏è</span>
            Light
            <span class="sub">Scroll Tick</span>
        </button>
        <button class="group-impact" onclick="play('medium')">
            <span class="icon">üîµ</span>
            Medium
            <span class="sub">Standard Tap</span>
        </button>
        <button class="group-impact" onclick="play('heavy')">
            <span class="icon">‚ö´Ô∏è</span>
            Heavy
            <span class="sub">Thud / Delete</span>
        </button>

        <button class="group-impact" onclick="play('rigid')">
            <span class="icon">üî©</span>
            Rigid
            <span class="sub">Metallic Snap</span>
        </button>
        <button class="group-impact" onclick="play('soft')">
            <span class="icon">‚òÅÔ∏è</span>
            Soft
            <span class="sub">Rubber Button</span>
        </button>
        <button class="group-impact" onclick="play('mech')">
            <span class="icon">‚å®Ô∏è</span>
            Mech
            <span class="sub">Blue Switch</span>
        </button>

        <button class="group-notification" onclick="play('success')">
            <span class="icon">‚úÖ</span>
            Success
            <span class="sub">Rising Chime</span>
        </button>
        <button class="group-special" onclick="play('error')">
            <span class="icon">‚ö†Ô∏è</span>
            Error
            <span class="sub">Double Buzz</span>
        </button>
        <button class="group-special" onclick="play('zap')">
            <span class="icon">‚ö°Ô∏è</span>
            Zap
            <span class="sub">Electric</span>
        </button>
    </div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function play(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;

            // Helper to create oscillators easily
            function createOsc(wave, freq, gainVal, duration, typeOverride) {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                
                osc.type = wave;
                osc.frequency.setValueAtTime(freq, now);
                
                gain.gain.setValueAtTime(gainVal, now);
                gain.gain.exponentialRampToValueAtTime(0.001, now + duration);

                osc.connect(gain);
                gain.connect(audioCtx.destination);
                
                osc.start(now);
                osc.stop(now + duration + 0.1);
                return {osc, gain};
            }

            switch (type) {
                case 'light': // High pitch, super short tick
                    createOsc('triangle', 2000, 0.1, 0.03);
                    break;

                case 'medium': // Standard "Thock"
                    let med = createOsc('sine', 500, 0.3, 0.06);
                    med.osc.frequency.exponentialRampToValueAtTime(100, now + 0.05); // Pitch drop
                    break;

                case 'heavy': // Low "Thud"
                    let hvy = createOsc('square', 100, 0.4, 0.1);
                    // Lowpass filter to muffle the square wave
                    let filter = audioCtx.createBiquadFilter();
                    filter.type = "lowpass";
                    filter.frequency.value = 300;
                    hvy.osc.disconnect();
                    hvy.osc.connect(filter);
                    filter.connect(hvy.gain); // Reconnect to gain
                    break;

                case 'rigid': // Sharp, metallic click (high freq sine)
                    createOsc('sine', 1200, 0.2, 0.02); // Very fast decay
                    break;

                case 'soft': // Dull rubber sound (Sine, no pitch drop, slower attack)
                    let soft = createOsc('sine', 200, 0.3, 0.1);
                    soft.gain.gain.setValueAtTime(0, now);
                    soft.gain.gain.linearRampToValueAtTime(0.3, now + 0.02); // Soft attack
                    soft.gain.gain.exponentialRampToValueAtTime(0.001, now + 0.1);
                    break;

                case 'mech': // Mechanical Keyboard (High click + Low thud)
                    // Part 1: Click
                    createOsc('triangle', 1500, 0.1, 0.02);
                    // Part 2: Thud (slightly delayed)
                    setTimeout(() => {
                        let thud = audioCtx.createOscillator();
                        let g = audioCtx.createGain();
                        thud.frequency.value = 300;
                        thud.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.05);
                        g.gain.setValueAtTime(0.3, audioCtx.currentTime);
                        g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);
                        thud.connect(g);
                        g.connect(audioCtx.destination);
                        thud.start();
                        thud.stop(audioCtx.currentTime + 0.06);
                    }, 10);
                    break;

                case 'success': // Rising Major Third
                    createOsc('sine', 440, 0.2, 0.2); // A4
                    setTimeout(() => {
                        createOsc('sine', 554, 0.2, 0.2); // C#5
                    }, 50);
                    break;

                case 'error': // Double low buzz
                    createOsc('sawtooth', 150, 0.3, 0.08);
                    setTimeout(() => {
                        createOsc('sawtooth', 150, 0.3, 0.08);
                    }, 120);
                    break;
                
                case 'zap': // Electric spark
                    let zap = createOsc('sawtooth', 800, 0.1, 0.05);
                    zap.osc.frequency.linearRampToValueAtTime(200, now + 0.05);
                    break;
            }
        }
    </script>
</body>
</html>
